<!DOCTYPE html>
<html>
<head>
    <title>Multi-Step Form</title>
    <style>
        body {
            font-family: Arial;
            padding: 20px;
        }

        .step {
            display: none;
            margin-bottom: 20px;
        }

        .active {
            display: block;
        }

        input {
            padding: 8px;
            width: 250px;
            font-size: 16px;
            display: block;
            margin-top: 8px;
        }

        button {
            padding: 8px 16px;
            margin-top: 10px;
        }

        .error {
            color: red;
            font-size: 14px;
        }

        #summaryBox {
            border: 1px solid #ccc;
            padding: 15px;
            white-space: pre-line;
        }
    </style>
</head>
<body>

<h2>Multi-Step Form</h2>

<!-- STEP 1 : NAME -->
<div id="step1" class="step active">
    <label>Enter Name:</label>
    <input type="text" id="name">
    <p id="err1" class="error"></p>
    <button onclick="nextStep(1)">Next</button>
</div>

<!-- STEP 2 : EMAIL -->
<div id="step2" class="step">
    <label>Enter Email:</label>
    <input type="text" id="email">
    <p id="err2" class="error"></p>
    <button onclick="prevStep(2)">Back</button>
    <button onclick="nextStep(2)">Next</button>
</div>

<!-- STEP 3 : PASSWORD -->
<div id="step3" class="step">
    <label>Enter Password:</label>
    <input type="password" id="password">
    <p id="err3" class="error"></p>
    <button onclick="prevStep(3)">Back</button>
    <button onclick="nextStep(3)">Submit</button>
</div>

<!-- FINAL SUMMARY -->
<div id="summary" class="step">
    <h3>Form Summary</h3>
    <div id="summaryBox"></div>
</div>

<script>
// ------------------------------------------------------
// Multi-Step Form Script (Next/Back + Validation)
// ------------------------------------------------------

function showStep(stepNum) {
    document.querySelectorAll(".step").forEach(div => div.classList.remove("active"));
    document.getElementById("step" + stepNum).classList.add("active");
}

function nextStep(current) {
    let valid = false;

    if (current === 1) {
        const name = document.getElementById("name").value.trim();
        if (name.length < 2) {
            document.getElementById("err1").textContent = "Name must be at least 2 characters.";
        } else {
            document.getElementById("err1").textContent = "";
            valid = true;
        }
    }

    if (current === 2) {
        const email = document.getElementById("email").value.trim();
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        if (!emailRegex.test(email)) {
            document.getElementById("err2").textContent = "Enter a valid email.";
        } else {
            document.getElementById("err2").textContent = "";
            valid = true;
        }
    }

    if (current === 3) {
        const pass = document.getElementById("password").value.trim();
        if (pass.length < 6) {
            document.getElementById("err3").textContent = "Password must be at least 6 characters.";
        } else {
            document.getElementById("err3").textContent = "";
            valid = true;
        }
    }

    if (!valid) return;

    // If last step â†’ show summary
    if (current === 3) {
        showSummary();
        return;
    }

    showStep(current + 1);
}

function prevStep(current) {
    showStep(current - 1);
}

function showSummary() {
    const name = document.getElementById("name").value;
    const email = document.getElementById("email").value;
    const pass = document.getElementById("password").value;

    document.getElementById("summaryBox").textContent =
        `Name: ${name}
Email: ${email}
Password: ${pass}`;

    document.querySelectorAll(".step").forEach(div => div.classList.remove("active"));
    document.getElementById("summary").classList.add("active");
}
</script>

</body>
</html>
